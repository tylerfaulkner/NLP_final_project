In 2084, Mars is a colonized world under the tyrannical regime of Vilos Cohaagen, who controls the mining of valuable turbinium ore. On Earth, construction worker Douglas Quaid experiences recurring dreams about Mars and a mysterious woman. Intrigued, he visits Rekall, a company that implants realistic false memories, and chooses one set on Mars (with a blue sky) where he is a Martian secret agent. However, before the implant is completed Quaid lashes out, already thinking he is a secret agent. Believing Cohaagen's "Agency" has suppressed Quaid's memories, the Rekall employees erase evidence of Quaid's visit and send him home.
En route, Quaid is attacked by men led by his colleague Harry because Quaid unknowingly revealed his past; Quaid's instincts take over and he kills his assailants. At home, he is assaulted by his wife Lori who claims she was assigned to monitor Quaid by the Agency and their marriage is a false memory implant. He flees but is pursued by armed men led by Richter, Cohaagen's operative and Lori's real husband. A man who claims to be Quaid's former acquaintance gifts him a suitcase containing supplies and a video recording in which Quaid identifies himself as Hauser, a Cohaagen ally who defected after falling in love. According to the recording, Cohaagen brainwashed Hauser to become Quaid and conceal his secrets before securing him on Earth. Hauser instructs Quaid to return to Mars and stop Cohaagen.
On Mars, Quaid evades Richter and, following a note from Hauser, travels to Venusville, a district populated by humans and those mutated by air pollution and radiation. He meets Melina, the woman from his dreams, who knows him as Hauser and believes he is still working for Cohaagen. In his hotel room, Quaid is confronted by Lori and Dr. Edgemar from Rekall, who explains that Quaid is still at Rekall on Earth, trapped in his fantasy memory. Quaid notices Edgemar is sweating and, believing he is real, kills him. Quaid is captured by Richter's men, but Melina rescues him and Quaid kills Lori. The pair escape with taxi driver Benny to Venusville.
The mutants lead them to a hidden rebel base, where Quaid meets their leader Kuato, a mutant growing out of the abdomen of his brother George. Kuato psychically reads Quaid's mind, learning that Cohaagen is hiding a 500,000-year-old alien reactor built into a mountain that, once activated, produces breathable air but could also destroy all turbinium, ending Cohaagen's monopoly over both resources. Benny shoots George, revealing himself to be in Cohaagen's employ, and Cohaagen's forces attack the base, killing the rebels. Kuato implores Quaid to start the reactor before Richter executes him. Cohaagen disables Venusville's air supply to slowly suffocate the remaining inhabitants.
Quaid and Melina are brought to Cohaagen, who explains that Hauser was his close friend who volunteered to become Quaid as an elaborate ruse to bypass the mutants' psychic abilities, infiltrate the rebellion, and destroy it. Quaid's Rekall visit had activated him earlier than planned and Cohaagen has been helping him to survive the oblivious Richter's pursuit. Cohaagen orders Hauser's memories to be restored in Quaid and Melina to be reprogrammed as his subservient lover, but they manage to escape to the mines below the reactor. Benny, Richter, and his men attack them, but the pair outwits and kills them all.
Cohaagen awaits them in the reactor control room, claiming that activating it will destroy the planet. He sets off an explosive but Quaid throws it down a tunnel, creating a breach to the Martian surface. The explosive decompression blows Cohaagen out to the surface where he suffocates and dies. Quaid activates the reactor before he and Melina are also blown out. The reactor melts the planet's ice core into gas that bursts to the surface, forming a breathable atmosphere and saving Quaid, Melina, and the rest of Mars's population. As everyone beholds the now-blue sky, Quaid momentarily wonders if everything was a dream, before he and Melina kiss.